<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëœë¤ ì˜ì–´ ë¬¸ì¥ í•™ìŠµê¸°</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
    #sentence { font-size: 24px; margin: 20px; }
    button { font-size: 20px; padding: 10px 20px; }
  </style>
</head>
<body>
  <h1>ëœë¤ ì˜ì–´ ë¬¸ì¥ í•™ìŠµê¸°</h1>
  <div id="sentence">ë¡œë”© ì¤‘...</div>
  <button onclick="playNext()">ë‹¤ìŒ ë¬¸ì¥</button>

  <script>
    let data = [];

    // êµ¬ê¸€ ì‹œíŠ¸ IDì™€ ì‹œíŠ¸ì´ë¦„ ì…ë ¥
    const SHEET_ID = '10a6fRoZKhtnZEvX6BgIUyNxp7LCFWd-D2nSKjqkMnNk';  // ğŸ‘‰ ì—¬ê¸°ë¥¼ ë³¸ì¸ IDë¡œ êµì²´
    const SHEET_NAME = 'Sheet1';  // ê¸°ë³¸ ì‹œíŠ¸ ì´ë¦„ (ë³´í†µ Sheet1)

    async function fetchData() {
      try {
        const res = await fetch(`https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`);
        data = await res.json();
        document.getElementById("sentence").innerText = "ì¤€ë¹„ ì™„ë£Œ! ì‹œì‘í•´ë³´ì„¸ìš”.";
      } catch (e) {
        document.getElementById("sentence").innerText = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
      }
    }

    function playNext() {
      if (data.length === 0) {
        document.getElementById("sentence").innerText = "ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤!";
        return;
      }

      const randomIndex = Math.floor(Math.random() * data.length);
      const item = data[randomIndex];

      document.getElementById("sentence").innerText = `${item.A}\n${item.B}`;

      const utterKor = new SpeechSynthesisUtterance(item.A);
      utterKor.lang = 'ko-KR';
      speechSynthesis.speak(utterKor);

      utterKor.onend = () => {
        const utterEng = new SpeechSynthesisUtterance(item.B);
        utterEng.lang = 'en-US';
        speechSynthesis.speak(utterEng);
      };
    }

    fetchData();
  </script>
</body>
</html>
